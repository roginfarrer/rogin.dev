---
import { faChevronDown } from "@fortawesome/free-solid-svg-icons";
import Box, { type Props as BoxProps } from "./Box.astro";
import Icon from "./Icon.astro";

const { label, id, ...props } = Astro.props;

interface Props extends BoxProps<"div"> {
  label: string;
  id: string;
}
---

<Box
  as="label"
  display="flex"
  flexDirection="column"
  gap="$1"
  type="$sm"
  textAlign="left"
  {...props}
>
  <Box as="span" type="$sm">{label}</Box>
  <Box>
    <Box position="relative" display="inline-block">
      <Box
        as="select"
        textAlign="left"
        id={id}
        border="2px solid"
        borderColor="$gray6"
        borderRadius="$lg"
        p="$1"
        bg="$gray2"
        paddingRight="2em"
      >
        <slot />
      </Box>
      <Icon
        aria-hidden="true"
        icon={faChevronDown}
        position="absolute"
        right="$2"
        size="1.25em"
        top="50%"
        transform="translateY(-50%)"
        style={{ strokeWidth: 3 }}
      />
    </Box>
  </Box>
</Box>
