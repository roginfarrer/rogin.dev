---
import { faChevronDown } from "@fortawesome/free-solid-svg-icons";
import Box from "./Box.astro";
import Icon from "./Icon.astro";
import type { Sprinkles } from "./Box.css";
import { vars } from "src/vars.css";

const { label, id, "data-id": dataId, ...props } = Astro.props;

interface Props extends Sprinkles {
  label: string;
  id?: string;
  "data-id"?: string;
}
---

<Box
  as="label"
  display="flex"
  flexDirection="column"
  gap="$1"
  typeScale="$sm"
  textAlign="left"
  {...props}
>
  <Box as="span" typeScale="$sm">{label}</Box>
  <Box>
    <Box position="relative" display="inline-block">
      <Box
        as="select"
        data-id={dataId}
        textAlign="left"
        id={id}
        border={`2px solid ${vars.colors.gray6}`}
        borderRadius="$lg"
        p="$1"
        bg="$gray2"
        paddingRight="2em"
      >
        <slot />
      </Box>
      <Icon
        aria-hidden="true"
        icon={faChevronDown}
        position="absolute"
        right="$2"
        size="1.25em"
        top="50%"
        transform="translateY(-50%)"
        style={{ strokeWidth: 3 }}
      />
    </Box>
  </Box>
</Box>
