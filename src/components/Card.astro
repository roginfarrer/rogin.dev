---
import { css } from "styled-system/css";

export type Props = {
  href: string;
  class?: string;
  preview?: boolean;
};

const { href, class: propClass, preview = false, ...props } = Astro.props;
const Element = preview ? "span" : "a";
---

<Element
  {...props}
  href={href}
  class:list={[
    css({
      position: "relative",
      borderRadius: "xl",
      bg: "gray4",
      p: "4",
      display: "flex",
      transitionProperty: "all",
      transitionTimingFunction: "ease-out",
      transitionDuration: ".2s",
      flexDirection: "column",
      justifyContent: "space-between",
      flex: "1",
      overflow: "hidden",
      "--shadow-color": { base: "colors.gray6", _dark: "colors.gray4" },
      _hover: {
        "&:is(a)": {
          bg: "gray5",
          boxShadow: "0 4px 20px 0 var(--shadow-color)",
          borderColor: "transparent",
        },
      },
    }),
    propClass,
  ]}
>
  <slot />
</Element>
